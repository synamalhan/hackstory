{
  "version": 3,
  "sources": ["../../@react-spring/parallax/dist/react-spring_parallax.modern.mjs"],
  "sourcesContent": ["// src/index.tsx\nimport * as React from \"react\";\nimport { useContext, useState, useRef, useEffect } from \"react\";\nimport { useMemoOne, useOnce, raf } from \"@react-spring/shared\";\nimport {\n  a,\n  Controller,\n  config as configs\n} from \"@react-spring/web\";\nvar ParentContext = React.createContext(null);\nfunction getScrollType(horizontal) {\n  return horizontal ? \"scrollLeft\" : \"scrollTop\";\n}\nfunction mapChildrenRecursive(children, callback) {\n  const isReactFragment = (node) => {\n    if (node.type) {\n      return node.type === React.Fragment;\n    }\n    return node === React.Fragment;\n  };\n  return React.Children.map(\n    children,\n    (child) => isReactFragment(child) ? mapChildrenRecursive(child.props.children, callback) : callback(child)\n  );\n}\nvar START_TRANSLATE_3D = \"translate3d(0px,0px,0px)\";\nvar START_TRANSLATE = \"translate(0px,0px)\";\nvar ParallaxLayer = React.memo(\n  React.forwardRef(\n    ({ horizontal, factor = 1, offset = 0, speed = 0, sticky, ...rest }, ref) => {\n      const parent = useContext(ParentContext);\n      const ctrl = useMemoOne(() => {\n        let translate;\n        if (sticky) {\n          const start = sticky.start || 0;\n          translate = start * parent.space;\n        } else {\n          const targetScroll = Math.floor(offset) * parent.space;\n          const distance = parent.space * offset + targetScroll * speed;\n          translate = -(parent.current * speed) + distance;\n        }\n        return new Controller({\n          space: sticky ? parent.space : parent.space * factor,\n          translate\n        });\n      }, []);\n      const layer = useMemoOne(\n        () => ({\n          horizontal: horizontal === void 0 || sticky ? parent.horizontal : horizontal,\n          sticky: void 0,\n          isSticky: false,\n          setPosition(height, scrollTop, immediate = false) {\n            if (sticky) {\n              setSticky(height, scrollTop);\n            } else {\n              const targetScroll = Math.floor(offset) * height;\n              const distance = height * offset + targetScroll * speed;\n              ctrl.start({\n                translate: -(scrollTop * speed) + distance,\n                config: parent.config,\n                immediate\n              });\n            }\n          },\n          setHeight(height, immediate = false) {\n            ctrl.start({\n              space: sticky ? height : height * factor,\n              config: parent.config,\n              immediate\n            });\n          }\n        }),\n        []\n      );\n      useOnce(() => {\n        if (sticky) {\n          const start = sticky.start || 0;\n          const end = sticky.end || start + 1;\n          layer.sticky = { start, end };\n        }\n      });\n      React.useImperativeHandle(ref, () => layer);\n      const layerRef = useRef(void 0);\n      const setSticky = (height, scrollTop) => {\n        const start = layer.sticky.start * height;\n        const end = layer.sticky.end * height;\n        const isSticky = scrollTop >= start && scrollTop <= end;\n        if (isSticky === layer.isSticky) return;\n        layer.isSticky = isSticky;\n        const ref2 = layerRef.current;\n        ref2.style.position = isSticky ? \"sticky\" : \"absolute\";\n        ctrl.set({\n          translate: isSticky ? 0 : scrollTop < start ? start : end\n        });\n      };\n      useOnce(() => {\n        if (parent) {\n          parent.layers.add(layer);\n          parent.update();\n          return () => {\n            parent.layers.delete(layer);\n            parent.update();\n          };\n        }\n      });\n      const translate3d = ctrl.springs.translate.to(\n        layer.horizontal ? (x) => `translate3d(${x}px,0,0)` : (y) => `translate3d(0,${y}px,0)`\n      );\n      return /* @__PURE__ */ React.createElement(\n        a.div,\n        {\n          ...rest,\n          ref: layerRef,\n          style: {\n            position: \"absolute\",\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0,\n            backgroundSize: \"auto\",\n            backgroundRepeat: \"no-repeat\",\n            willChange: \"transform\",\n            [layer.horizontal ? \"height\" : \"width\"]: \"100%\",\n            [layer.horizontal ? \"width\" : \"height\"]: ctrl.springs.space,\n            WebkitTransform: translate3d,\n            msTransform: translate3d,\n            transform: translate3d,\n            ...rest.style\n          }\n        }\n      );\n    }\n  )\n);\nvar Parallax = React.memo(\n  React.forwardRef((props, ref) => {\n    const [ready, setReady] = useState(false);\n    const {\n      pages,\n      innerStyle: _innerStyle,\n      config = configs.slow,\n      enabled = true,\n      horizontal = false,\n      children,\n      ...rest\n    } = props;\n    const containerRef = useRef(void 0);\n    const contentRef = useRef(void 0);\n    const state = useMemoOne(\n      () => ({\n        config,\n        horizontal,\n        busy: false,\n        space: 0,\n        current: 0,\n        offset: 0,\n        controller: new Controller({ scroll: 0 }),\n        layers: /* @__PURE__ */ new Set(),\n        container: containerRef,\n        content: contentRef,\n        update: () => update(),\n        scrollTo: (offset) => scrollTo(offset),\n        stop: () => state.controller.stop()\n      }),\n      []\n    );\n    useEffect(() => {\n      state.config = config;\n    }, [config]);\n    React.useImperativeHandle(ref, () => state);\n    const update = () => {\n      const container = containerRef.current;\n      if (!container) return;\n      const spaceProp = horizontal ? \"clientWidth\" : \"clientHeight\";\n      state.space = container[spaceProp];\n      const scrollType = getScrollType(horizontal);\n      if (enabled) {\n        state.current = container[scrollType];\n      } else {\n        container[scrollType] = state.current = state.offset * state.space;\n      }\n      const content = contentRef.current;\n      if (content) {\n        const sizeProp = horizontal ? \"width\" : \"height\";\n        content.style[sizeProp] = `${state.space * pages}px`;\n      }\n      state.layers.forEach((layer) => {\n        layer.setHeight(state.space, true);\n        layer.setPosition(state.space, state.current, true);\n      });\n    };\n    const scrollTo = (offset) => {\n      const container = containerRef.current;\n      const scrollType = getScrollType(horizontal);\n      state.offset = offset;\n      state.controller.set({ scroll: state.current });\n      state.controller.stop().start({\n        scroll: offset * state.space,\n        config,\n        onChange({ value: { scroll } }) {\n          container[scrollType] = scroll;\n        }\n      });\n    };\n    const onScroll = (event) => {\n      if (!state.busy) {\n        state.busy = true;\n        state.current = event.target[getScrollType(horizontal)];\n        raf.onStart(() => {\n          state.layers.forEach(\n            (layer) => layer.setPosition(state.space, state.current)\n          );\n          state.busy = false;\n        });\n      }\n    };\n    useEffect(() => state.update());\n    useOnce(() => {\n      setReady(true);\n      const onResize = () => {\n        const update2 = () => state.update();\n        raf.onFrame(update2);\n        setTimeout(update2, 150);\n      };\n      window.addEventListener(\"resize\", onResize, false);\n      return () => window.removeEventListener(\"resize\", onResize, false);\n    });\n    const overflow = enabled ? {\n      overflowY: horizontal ? \"hidden\" : \"scroll\",\n      overflowX: horizontal ? \"scroll\" : \"hidden\"\n    } : {\n      overflowY: \"hidden\",\n      overflowX: \"hidden\"\n    };\n    return /* @__PURE__ */ React.createElement(\n      a.div,\n      {\n        ...rest,\n        ref: containerRef,\n        onScroll,\n        onWheel: enabled ? state.stop : void 0,\n        onTouchStart: enabled ? state.stop : void 0,\n        style: {\n          position: \"absolute\",\n          width: \"100%\",\n          height: \"100%\",\n          ...overflow,\n          WebkitOverflowScrolling: \"touch\",\n          WebkitTransform: START_TRANSLATE,\n          msTransform: START_TRANSLATE,\n          transform: START_TRANSLATE_3D,\n          ...rest.style\n        }\n      },\n      ready && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n        a.div,\n        {\n          ref: contentRef,\n          style: {\n            overflow: \"hidden\",\n            position: \"absolute\",\n            [horizontal ? \"height\" : \"width\"]: \"100%\",\n            [horizontal ? \"width\" : \"height\"]: state.space * pages,\n            WebkitTransform: START_TRANSLATE,\n            msTransform: START_TRANSLATE,\n            transform: START_TRANSLATE_3D,\n            ...props.innerStyle\n          }\n        },\n        /* @__PURE__ */ React.createElement(ParentContext.Provider, { value: state }, mapChildrenRecursive(\n          children,\n          (child) => !child.props.sticky && child\n        ))\n      ), /* @__PURE__ */ React.createElement(ParentContext.Provider, { value: state }, mapChildrenRecursive(\n        children,\n        (child) => child.props.sticky && child\n      )))\n    );\n  })\n);\nexport {\n  Parallax,\n  ParallaxLayer\n};\n"],
  "mappings": "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",
  "names": ["config"]
}
